{"version":3,"sources":["script.js"],"names":["billWrapper","document","querySelector","bill","peopleWrapper","people","percentWrapper","radioButtons","getElementsByName","customRadio","customInput","tipDisplay","totalDisplay","reset","onclick","resetView","inputs","querySelectorAll","index","length","onchange","calculateTip","getBillValue","value","getTipPercentage","i","checked","getNumberOfPeople","showError","element","errorMessage","classList","add","textContent","removeError","arguments","remove","checkAndConvert","inputWrapper","isNaN","Number","e","preventDefault","innerHTML","disabled","billValue","tipPercentage","numOfPeople","console","log","tip","totalPerPerson","tipPerPerson","Math","round","EPSILON","addEventListener","this","focus"],"mappings":"AAAA,aAAA,IAAMA,YAAcC,SAASC,cAAc,iBACrCC,KAAOF,SAASC,cAAc,SAE9BE,cAAgBH,SAASC,cAAc,mBACvCG,OAASJ,SAASC,cAAc,WAEhCI,eAAiBL,SAASC,cAAc,oBACxCK,aAAeN,SAASO,kBAAkB,cAE1CC,YAAcR,SAASC,cAAc,WACrCQ,YAAcT,SAASC,cAAc,gBAErCS,WAAaV,SAASC,cAAc,QACpCU,aAAeX,SAASC,cAAc,UAEtCW,MAAQZ,SAASC,cAAc,UACrCW,MAAMC,QAAUC,UAKhB,IAFA,IAAMC,OAASf,SAASgB,iBAAiB,SAEhCC,MAAQ,EAAGA,MAAQF,OAAOG,OAAQD,QACzCF,OAAOE,OAAOE,SAAWC,aAW3B,SAASC,eACP,OAAOnB,KAAKoB,MAId,SAASC,mBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIlB,aAAaY,OAAQM,IACvC,GAAIlB,aAAakB,GAAGC,QAClB,OAAOnB,aAAakB,GAAGF,MAG3B,OAAO,KAIT,SAASI,oBACP,OAAOtB,OAAOkB,MAIhB,SAASK,UAAUC,EAASC,GAC1BD,EAAQE,UAAUC,IAAI,SACtBH,EAAQ3B,cAAc,8BAA8B+B,YAClDH,EAIJ,SAASI,cACP,IAAK,IAAIhB,EAAQ,EAAGA,EAAQiB,UAAUhB,OAAQD,IAC5CiB,UAAUjB,GAAOa,UAAUK,OAAO,SAKtC,SAASC,gBAAgBd,EAAOe,GAC9B,GAAa,IAATf,GAAwB,KAATA,EACjBK,UAAUU,EAAc,qBACnB,GAAIC,MAAMC,OAAOjB,IACtBK,UAAUU,EAAc,0BACnB,CAAA,GAAqB,GAAjBE,OAAOjB,GAGhB,OAAOiB,OAAOjB,GAFdK,UAAUU,EAAc,iBAI1B,OAAO,KAGT,SAASvB,UAAU0B,GACjBA,EAAEC,iBAGFvC,KAAKoB,MAAQ,GACb,IAAK,IAAIE,EAAI,EAAGA,EAAIlB,aAAaY,OAAQM,IACvClB,aAAakB,GAAGC,SAAU,EAE5BrB,OAAOkB,MAAQ,GAGfW,YAAYlC,YAAaM,eAAgBF,eAGzCO,WAAWgC,UAAY,QACvB/B,aAAa+B,UAAY,QAGzB9B,MAAM+B,UAAW,EAInB,SAASvB,eAEPR,MAAM+B,UAAW,EAGjB,IAAIC,EAAYvB,eACZwB,EAAgBtB,mBAChBuB,EAAcpB,oBAOlB,GAJAO,YAAYlC,YAAaM,eAAgBF,eAGzCyC,EAAYR,gBAAgBQ,EAAW7C,aAIvC,GAAqB,MAAjB8C,EAAJ,CAGO,GAAqB,UAAjBA,GAGT,GAFAA,EAAgBT,gBAAgB3B,YAAYa,MAAOjB,gBACnD0C,QAAQC,IAAR,gBAA6BH,IACxBA,EAAe,YAEpBA,EAAgBN,OAAOM,GAKzB,GADAC,EAAcV,gBAAgBU,EAAa3C,eAC3C,CAGA4C,QAAQC,IAAIH,EAAgB,KAC5B,IAAII,EAAML,GAAaC,EAAgB,KACvCE,QAAQC,IAAR,MAAmBC,GACnB,IAAIC,GAAkBN,EAAYK,GAAOH,EACrCK,EAAeF,EAAMH,EAGzBI,EAAiBE,KAAKC,MAA0C,KAAnCH,EAAiBX,OAAOe,UAAkB,IACvEH,EAAeC,KAAKC,MAAwC,KAAjCF,EAAeZ,OAAOe,UAAkB,IAGnE5C,WAAWgC,UAAY,IAAMS,EAC7BxC,aAAa+B,UAAY,IAAMQ,QA3B7BvB,UAAUtB,eAAgB,yBA9F9BG,YAAY+C,iBAAiB,UAAU,WACjCC,KAAK/B,SACPhB,YAAYgD","file":"script.js","sourcesContent":["const billWrapper = document.querySelector(\"#bill-wrapper\");\r\nconst bill = document.querySelector(\"#bill\");\r\n\r\nconst peopleWrapper = document.querySelector(\"#people-wrapper\");\r\nconst people = document.querySelector(\"#people\");\r\n\r\nconst percentWrapper = document.querySelector(\"#percent-wrapper\");\r\nconst radioButtons = document.getElementsByName(\"percentage\");\r\n\r\nconst customRadio = document.querySelector(\"#custom\");\r\nconst customInput = document.querySelector(\"#customValue\");\r\n\r\nconst tipDisplay = document.querySelector(\"#tip\");\r\nconst totalDisplay = document.querySelector(\"#total\");\r\n\r\nconst reset = document.querySelector(\"#reset\");\r\nreset.onclick = resetView;\r\n\r\n// Get all input and add event listener\r\nconst inputs = document.querySelectorAll(\"input\");\r\n\r\nfor (let index = 0; index < inputs.length; index++) {\r\n  inputs[index].onchange = calculateTip;\r\n}\r\n\r\n// Auto focus for custom input\r\ncustomRadio.addEventListener(\"change\", function () {\r\n  if (this.checked) {\r\n    customInput.focus();\r\n  }\r\n});\r\n\r\n// Get bill value\r\nfunction getBillValue() {\r\n  return bill.value;\r\n}\r\n\r\n// Get percentage of tip\r\nfunction getTipPercentage() {\r\n  for (let i = 0; i < radioButtons.length; i++) {\r\n    if (radioButtons[i].checked) {\r\n      return radioButtons[i].value;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// Get number of people splliting the bill\r\nfunction getNumberOfPeople() {\r\n  return people.value;\r\n}\r\n\r\n// Show error message on an input-group\r\nfunction showError(element, errorMessage) {\r\n  element.classList.add(\"error\");\r\n  element.querySelector(\".label-wrap .error-message\").textContent =\r\n    errorMessage;\r\n}\r\n\r\n// remove error message from an input group\r\nfunction removeError() {\r\n  for (let index = 0; index < arguments.length; index++) {\r\n    arguments[index].classList.remove(\"error\");\r\n  }\r\n}\r\n\r\n// Check if value is valid then, convert to number\r\nfunction checkAndConvert(value, inputWrapper) {\r\n  if (value == \"\" || value == \" \") {\r\n    showError(inputWrapper, \"enter number\");\r\n  } else if (isNaN(Number(value))) {\r\n    showError(inputWrapper, \"enter valid number\");\r\n  } else if (Number(value) == 0) {\r\n    showError(inputWrapper, \"Can't be zero\");\r\n  } else {\r\n    return Number(value);\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction resetView(e) {\r\n  e.preventDefault();\r\n\r\n  // Clearing inputs\r\n  bill.value = \"\";\r\n  for (let i = 0; i < radioButtons.length; i++) {\r\n    radioButtons[i].checked = false;\r\n  }\r\n  people.value = \"\";\r\n\r\n  // Removing errors\r\n  removeError(billWrapper, percentWrapper, peopleWrapper);\r\n\r\n  // clearing outputs\r\n  tipDisplay.innerHTML = \"$0.00\";\r\n  totalDisplay.innerHTML = \"$0.00\";\r\n\r\n  // disabling reset\r\n  reset.disabled = true;\r\n}\r\n\r\n// Calculate tip\r\nfunction calculateTip() {\r\n  // Enable reset button\r\n  reset.disabled = false;\r\n\r\n  // Get bill, percentage to tip and number of people splitting the bill\r\n  let billValue = getBillValue();\r\n  let tipPercentage = getTipPercentage();\r\n  let numOfPeople = getNumberOfPeople();\r\n\r\n  // Removing all previous error messages if all values are valid\r\n  removeError(billWrapper, percentWrapper, peopleWrapper);\r\n\r\n  // Conversion and Error check for bill value\r\n  billValue = checkAndConvert(billValue, billWrapper);\r\n  if (!billValue) return;\r\n\r\n  // Error check for tip percentage\r\n  if (tipPercentage == null) {\r\n    showError(percentWrapper, \"select tip percentage\");\r\n    return;\r\n  } else if (tipPercentage == \"custom\") {\r\n    tipPercentage = checkAndConvert(customInput.value, percentWrapper);\r\n    console.log(`tipPercentage`, tipPercentage);\r\n    if (!tipPercentage) return;\r\n  } else {\r\n    tipPercentage = Number(tipPercentage);\r\n  }\r\n\r\n  // Error check for number of people splitting bill\r\n  numOfPeople = checkAndConvert(numOfPeople, peopleWrapper);\r\n  if (!numOfPeople) return;\r\n\r\n  // Calculating tip\r\n  console.log(tipPercentage / 100.0);\r\n  let tip = billValue * (tipPercentage / 100.0);\r\n  console.log(`tip`, tip);\r\n  let totalPerPerson = (billValue + tip) / numOfPeople;\r\n  let tipPerPerson = tip / numOfPeople;\r\n\r\n  // Approximating results to 2d.p\r\n  totalPerPerson = Math.round((totalPerPerson + Number.EPSILON) * 100) / 100;\r\n  tipPerPerson = Math.round((tipPerPerson + Number.EPSILON) * 100) / 100;\r\n\r\n  // Displaying results\r\n  tipDisplay.innerHTML = \"$\" + tipPerPerson;\r\n  totalDisplay.innerHTML = \"$\" + totalPerPerson;\r\n}\r\n"]}