{"version":3,"sources":["script.js"],"names":["billWrapper","document","querySelector","bill","peopleWrapper","people","percentWrapper","radioButtons","getElementsByName","customInput","tipDisplay","totalDisplay","inputs","querySelectorAll","index","length","onchange","calculateTip","getBillValue","value","getTipPercentage","i","checked","getNumberOfPeople","showError","element","errorMessage","classList","add","textContent","removeError","arguments","remove","checkAndConvert","inputWrapper","isNaN","Number","console","log","billValue","tipPercentage","numOfPeople","tip","totalPerPerson","tipPerPerson","Math","round","EPSILON","innerHTML"],"mappings":"AAAA,aAgBA,IAhBA,IAAMA,YAAcC,SAASC,cAAc,iBACrCC,KAAOF,SAASC,cAAc,SAE9BE,cAAgBH,SAASC,cAAc,mBACvCG,OAASJ,SAASC,cAAc,WAEhCI,eAAiBL,SAASC,cAAc,oBACxCK,aAAeN,SAASO,kBAAkB,cAC1CC,YAAcR,SAASC,cAAc,gBAErCQ,WAAaT,SAASC,cAAc,QACpCS,aAAeV,SAASC,cAAc,UAGtCU,OAASX,SAASY,iBAAiB,SAEhCC,MAAQ,EAAGA,MAAQF,OAAOG,OAAQD,QACzCF,OAAOE,OAAOE,SAAWC,aAI3B,SAASC,eACP,OAAOf,KAAKgB,MAId,SAASC,mBACP,IAAK,IAAIC,EAAI,EAAGA,EAAId,aAAaQ,OAAQM,IACvC,GAAId,aAAac,GAAGC,QAClB,OAAOf,aAAac,GAAGF,MAG3B,OAAO,KAIT,SAASI,oBACP,OAAOlB,OAAOc,MAIhB,SAASK,UAAUC,EAASC,GAC1BD,EAAQE,UAAUC,IAAI,SACtBH,EAAQvB,cAAc,8BAA8B2B,YAClDH,EAIJ,SAASI,cACP,IAAK,IAAIhB,EAAQ,EAAGA,EAAQiB,UAAUhB,OAAQD,IAC5CiB,UAAUjB,GAAOa,UAAUK,OAAO,SAKtC,SAASC,gBAAgBd,EAAOe,GAC9B,GAAa,IAATf,GAAwB,KAATA,EACjBK,UAAUU,EAAc,qBACnB,GAAIC,MAAMC,OAAOjB,IACtBK,UAAUU,EAAc,0BACnB,CAAA,GAAqB,GAAjBE,OAAOjB,GAGhB,OAAOiB,OAAOjB,GAFdK,UAAUU,EAAc,iBAI1B,OAAO,KAIT,SAASjB,eACPoB,QAAQC,IAAI,yBAGZ,IAAIC,EAAYrB,eACZsB,EAAgBpB,mBAChBqB,EAAclB,oBAOlB,GAJAO,YAAY9B,YAAaM,eAAgBF,eAGzCmC,EAAYN,gBAAgBM,EAAWvC,aAIvC,GAAqB,MAAjBwC,EAAJ,CAGO,GAAqB,UAAjBA,GAGT,GAFAA,EAAgBP,gBAAgBxB,YAAYU,MAAOb,gBACnD+B,QAAQC,IAAR,gBAA6BE,IACxBA,EAAe,YAEpBA,EAAgBJ,OAAOI,GAKzB,GADAC,EAAcR,gBAAgBQ,EAAarC,eAC3C,CAGAiC,QAAQC,IAAIE,EAAgB,KAC5B,IAAIE,EAAMH,GAAaC,EAAgB,KACvCH,QAAQC,IAAR,MAAmBI,GACnB,IAAIC,GAAkBJ,EAAYG,GAAOD,EACrCG,EAAeF,EAAMD,EAGzBE,EAAiBE,KAAKC,MAA0C,KAAnCH,EAAiBP,OAAOW,UAAkB,IACvEH,EAAeC,KAAKC,MAAwC,KAAjCF,EAAeR,OAAOW,UAAkB,IAGnErC,WAAWsC,UAAY,IAAMJ,EAC7BjC,aAAaqC,UAAY,IAAML,QA3B7BnB,UAAUlB,eAAgB","file":"script.js","sourcesContent":["const billWrapper = document.querySelector(\"#bill-wrapper\");\r\nconst bill = document.querySelector(\"#bill\");\r\n\r\nconst peopleWrapper = document.querySelector(\"#people-wrapper\");\r\nconst people = document.querySelector(\"#people\");\r\n\r\nconst percentWrapper = document.querySelector(\"#percent-wrapper\");\r\nconst radioButtons = document.getElementsByName(\"percentage\");\r\nconst customInput = document.querySelector(\"#customValue\");\r\n\r\nconst tipDisplay = document.querySelector(\"#tip\");\r\nconst totalDisplay = document.querySelector(\"#total\");\r\n\r\n// Get all input and add event listener\r\nconst inputs = document.querySelectorAll(\"input\");\r\n\r\nfor (let index = 0; index < inputs.length; index++) {\r\n  inputs[index].onchange = calculateTip;\r\n}\r\n\r\n// Get bill value\r\nfunction getBillValue() {\r\n  return bill.value;\r\n}\r\n\r\n// Get percentage of tip\r\nfunction getTipPercentage() {\r\n  for (let i = 0; i < radioButtons.length; i++) {\r\n    if (radioButtons[i].checked) {\r\n      return radioButtons[i].value;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// Get number of people splliting the bill\r\nfunction getNumberOfPeople() {\r\n  return people.value;\r\n}\r\n\r\n// Show error message on an input-group\r\nfunction showError(element, errorMessage) {\r\n  element.classList.add(\"error\");\r\n  element.querySelector(\".label-wrap .error-message\").textContent =\r\n    errorMessage;\r\n}\r\n\r\n// remove error message from an input group\r\nfunction removeError() {\r\n  for (let index = 0; index < arguments.length; index++) {\r\n    arguments[index].classList.remove(\"error\");\r\n  }\r\n}\r\n\r\n// Check if value is valid then, convert to number\r\nfunction checkAndConvert(value, inputWrapper) {\r\n  if (value == \"\" || value == \" \") {\r\n    showError(inputWrapper, \"enter number\");\r\n  } else if (isNaN(Number(value))) {\r\n    showError(inputWrapper, \"enter valid number\");\r\n  } else if (Number(value) == 0) {\r\n    showError(inputWrapper, \"Can't be zero\");\r\n  } else {\r\n    return Number(value);\r\n  }\r\n  return null;\r\n}\r\n\r\n// Calculate tip\r\nfunction calculateTip() {\r\n  console.log(\"calculate tip started\");\r\n\r\n  // Get bill, percentage to tip and number of people splitting the bill\r\n  let billValue = getBillValue();\r\n  let tipPercentage = getTipPercentage();\r\n  let numOfPeople = getNumberOfPeople();\r\n\r\n  // Removing all previous error messages if all values are valid\r\n  removeError(billWrapper, percentWrapper, peopleWrapper);\r\n\r\n  // Conversion and Error check for bill value\r\n  billValue = checkAndConvert(billValue, billWrapper);\r\n  if (!billValue) return;\r\n\r\n  // Error check for tip percentage\r\n  if (tipPercentage == null) {\r\n    showError(percentWrapper, \"pick or enter percentage\");\r\n    return;\r\n  } else if (tipPercentage == \"custom\") {\r\n    tipPercentage = checkAndConvert(customInput.value, percentWrapper);\r\n    console.log(`tipPercentage`, tipPercentage);\r\n    if (!tipPercentage) return;\r\n  } else {\r\n    tipPercentage = Number(tipPercentage);\r\n  }\r\n\r\n  // Error check for number of people splitting bill\r\n  numOfPeople = checkAndConvert(numOfPeople, peopleWrapper);\r\n  if (!numOfPeople) return;\r\n\r\n  // Calculating tip\r\n  console.log(tipPercentage / 100.0);\r\n  let tip = billValue * (tipPercentage / 100.0);\r\n  console.log(`tip`, tip);\r\n  let totalPerPerson = (billValue + tip) / numOfPeople;\r\n  let tipPerPerson = tip / numOfPeople;\r\n\r\n  // Approximating results to 2d.p\r\n  totalPerPerson = Math.round((totalPerPerson + Number.EPSILON) * 100) / 100;\r\n  tipPerPerson = Math.round((tipPerPerson + Number.EPSILON) * 100) / 100;\r\n\r\n  // Displaying results\r\n  tipDisplay.innerHTML = \"$\" + tipPerPerson;\r\n  totalDisplay.innerHTML = \"$\" + totalPerPerson;\r\n}\r\n"]}